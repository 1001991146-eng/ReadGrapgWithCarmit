<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מנתח נתוני תיירות עסקים נגד תיירות לשם הנאה</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;700&display=swap');
        body { font-family: 'Assistant', sans-serif; background-color: #f0f4f8; }
        .card { background: white; border-radius: 1rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); padding: 1.5rem; position: relative; }
        .gradient-header { background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); }
        .source-tag { font-size: 0.7rem; color: #64748b; margin-top: 0.5rem; display: block; }
    </style>
</head>
<body class="p-4 md:p-8">

    <!-- Header -->
    <header class="gradient-header text-white p-6 rounded-2xl mb-8 shadow-lg text-center">
        <h1 class="text-3xl font-bold mb-2">מנתח נתוני תיירות: תיירות לשם הנאה מול עסקים</h1>
        <p class="text-blue-100">יחידת הוראה: "אתגר המטבע הזר" - מבוסס נתוני ישראל</p>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        <!-- Sidebar: Inputs/Simulator -->
        <div class="lg:col-span-1 space-y-6">
            <div class="card">
                <h2 class="text-xl font-bold mb-4 border-b pb-2">סימולטור הכנסות ממט"ח</h2>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-1">מספר תיירים לשם הנאה (קבוצה א'):</label>
                    <input type="range" id="leisureCount" min="100" max="5000" step="100" value="1000" class="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer">
                    <div class="flex justify-between text-sm text-gray-600 mt-1">
                        <span id="leisureVal">1,000</span>
                        <span>תיירים</span>
                    </div>
                </div>

                <div class="mb-6">
                    <label class="block text-sm font-medium mb-1 text-blue-700">מספר תיירי עסקים (קבוצה ב'):</label>
                    <input type="range" id="businessCount" min="100" max="5000" step="100" value="500" class="w-full h-2 bg-blue-600 rounded-lg appearance-none cursor-pointer">
                    <div class="flex justify-between text-sm text-gray-600 mt-1">
                        <span id="businessVal">500</span>
                        <span>תיירים</span>
                    </div>
                </div>

                <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                    <h3 class="font-bold text-blue-900 mb-2">נתוני יסוד (ממוצע ימי בישראל):</h3>
                    <p class="text-sm">הוצאה יומית לשם הנאה: <b>$160</b></p>
                    <p class="text-sm">הוצאה יומית עסקים: <b>$480</b></p>
                    <span class="source-tag">* מקור: דו"ח נכנסת, משרד התיירות (נתוני טרום-משבר)</span>
                </div>
            </div>

            <div class="card bg-yellow-50 border-l-4 border-yellow-400">
                <h3 class="font-bold text-yellow-800 mb-2">שאלה לדיון בכיתה:</h3>
                <p class="text-sm text-yellow-900 italic" id="discussionQuestion">
                    "לפי הנתונים, האם למדינת ישראל כדאי להשקיע בשיווק לקהל של משפחות או בשיווק כנסים רפואיים?"
                </p>
            </div>
        </div>

        <!-- Main Content: Charts -->
        <div class="lg:col-span-2 space-y-8">
            
            <!-- Revenue Comparison Chart -->
            <div class="card">
                <h2 class="text-xl font-bold mb-4">השוואת הכנסה יומית כוללת (בדולרים)</h2>
                <div class="h-64">
                    <canvas id="revenueChart"></canvas>
                </div>
                <span class="source-tag">עיבוד נתונים: מבוסס על יחס 1:3 ברווחיות (משרד התיירות)</span>
            </div>

            <!-- Stability/Seasonality Chart -->
            <div class="card">
                <h2 class="text-xl font-bold mb-4">מדד היציבות: פריסה לאורך השנה</h2>
                <div class="h-64">
                    <canvas id="seasonalityChart"></canvas>
                </div>
                <p class="text-xs text-gray-500 mt-4">* תיירות עסקים מאופיינת ביציבות לאורך כל חודשי השנה לעומת שיאי עונת הקיץ והחגים בתיירות הנאה.</p>
                <span class="source-tag">מקור: הלשכה המרכזית לסטטיסטיקה (למ"ס), כניסות תיירים לפי חודש.</span>
            </div>

        </div>
    </div>

    <!-- Summary Stats -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8">
        <div class="card text-center border-t-4 border-blue-500">
            <p class="text-gray-600">סך הכנסה יומית למשק הישראלי</p>
            <h2 class="text-4xl font-bold text-blue-800" id="totalRevenueDisplay">$0</h2>
        </div>
        <div class="card text-center border-t-4 border-green-500">
            <p class="text-gray-600">יחס תרומה למט"ח</p>
            <h2 class="text-4xl font-bold text-green-700">פי 3</h2>
            <p class="text-xs mt-2 italic">מתייר עסקים אחד לעומת תייר לשם הנאה</p>
        </div>
    </div>

    <script>
        const leisureInput = document.getElementById('leisureCount');
        const businessInput = document.getElementById('businessCount');
        const leisureVal = document.getElementById('leisureVal');
        const businessVal = document.getElementById('businessVal');
        const totalRevenueDisplay = document.getElementById('totalRevenueDisplay');

        const LEISURE_DAILY = 160;
        const BUSINESS_DAILY = 480;

        // Initialize Revenue Chart
        const ctxRev = document.getElementById('revenueChart').getContext('2d');
        const revenueChart = new Chart(ctxRev, {
            type: 'bar',
            data: {
                labels: ['תיירות לשם הנאה', 'תיירות עסקים'],
                datasets: [{
                    label: 'הכנסה יומית ב-$',
                    data: [1000 * LEISURE_DAILY, 500 * BUSINESS_DAILY],
                    backgroundColor: ['#94a3b8', '#1e3a8a'],
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { y: { beginAtZero: true } }
            }
        });

        // Initialize Seasonality Chart
        const ctxSeas = document.getElementById('seasonalityChart').getContext('2d');
        new Chart(ctxSeas, {
            type: 'line',
            data: {
                labels: ['ינואר', 'מרץ', 'מאי', 'יולי', 'ספטמבר', 'נובמבר'],
                datasets: [
                    {
                        label: 'לשם הנאה (עונתיות קיץ)',
                        data: [15, 40, 55, 100, 60, 25],
                        borderColor: '#94a3b8',
                        borderDash: [5, 5],
                        tension: 0.4,
                        fill: false
                    },
                    {
                        label: 'עסקים (יציבות שנתית)',
                        data: [75, 78, 77, 72, 80, 76],
                        borderColor: '#1e3a8a',
                        borderWidth: 3,
                        tension: 0,
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { y: { display: false } }
            }
        });

        function updateSimulation() {
            const lCount = parseInt(leisureInput.value);
            const bCount = parseInt(businessInput.value);

            leisureVal.innerText = lCount.toLocaleString();
            businessVal.innerText = bCount.toLocaleString();

            const lRev = lCount * LEISURE_DAILY;
            const bRev = bCount * BUSINESS_DAILY;
            const total = lRev + bRev;

            revenueChart.data.datasets[0].data = [lRev, bRev];
            revenueChart.update();

            totalRevenueDisplay.innerText = '$' + total.toLocaleString();
        }

        leisureInput.addEventListener('input', updateSimulation);
        businessInput.addEventListener('input', updateSimulation);

        updateSimulation();
    </script>
</body>
</html>
